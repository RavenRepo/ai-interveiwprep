# ═══════════════════════════════════════════════════════════════
# AI Interview Preparation Platform — Environment Variables
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values.
# Spring Boot will NOT start if required variables are missing.
#
# For local development with spring-dotenv, place .env in the
# backend/ directory. For production, inject via your container
# orchestrator, CI/CD pipeline, or AWS Secrets Manager.
#
# NEVER commit .env to version control.
# ═══════════════════════════════════════════════════════════════

# ─── Database ─────────────────────────────────────────────────
# Required: Spring Boot will fail to start without these.
DB_HOST=localhost
DB_PORT=3306
DB_NAME=interview_platform
DB_USER=your_mysql_username
DB_PASSWORD=your_mysql_password

# ─── JWT Authentication ──────────────────────────────────────
# Required: No default value. Generate a secure random string:
#   openssl rand -base64 64
# IMPORTANT: The previously hardcoded secret in application.properties
# has been removed and is compromised. You MUST generate a new one.
# All existing tokens signed with the old secret are invalid.
JWT_SECRET=GENERATE_WITH_openssl_rand_-base64_64
JWT_EXPIRATION=3600000

# ─── AWS S3 ───────────────────────────────────────────────────
# Required for video/resume storage.
# In production on EC2/ECS/EKS, prefer IAM roles and remove
# these variables entirely — the AWS SDK DefaultCredentialsProvider
# will use the instance role automatically.
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET_NAME=your-interview-platform-bucket
AWS_REGION=us-east-1

# ─── OpenAI (GPT) ────────────────────────────────────────────
# Required: Get your key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# ─── ElevenLabs (Text-to-Speech) ─────────────────────────────
# Required: Get your key from https://elevenlabs.io/
ELEVENLABS_API_KEY=your-elevenlabs-api-key
# Optional: Override default voice/model settings
# ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM
# ELEVENLABS_MODEL_ID=eleven_monolingual_v1
# ELEVENLABS_VOICE_STABILITY=0.5
# ELEVENLABS_SIMILARITY_BOOST=0.75

# ─── D-ID (Avatar Video Generation) ──────────────────────────
# Required: Get your key from https://www.d-id.com/
DID_API_KEY=your-did-api-key
# Optional: Custom avatar image URL
# DID_AVATAR_IMAGE_URL=https://d-id-public-bucket.s3.us-west-2.amazonaws.com/alice.jpg

# ─── AssemblyAI (Speech-to-Text) ─────────────────────────────
# Required: Get your key from https://www.assemblyai.com/
ASSEMBLYAI_API_KEY=your-assemblyai-api-key

# ─── CORS ─────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins.
# Add your production domain when deploying.
CORS_ALLOWED_ORIGINS=http://localhost:3000

# ─── Server ───────────────────────────────────────────────────
# Optional: Override default server port
# SERVER_PORT=8080

# ─── HikariCP Connection Pool ────────────────────────────────
# Optional: Tune for your workload. Defaults are set for
# virtual threads (Java 21) where many concurrent DB operations
# are possible. Size this to your MySQL max_connections minus
# overhead for other clients (monitoring, migrations, etc.).
# HIKARI_MAX_POOL=30
# HIKARI_MIN_IDLE=10

# ─── JPA ──────────────────────────────────────────────────────
# Optional: Override for local development if needed.
# In production this MUST be 'validate' (the default).
# Set to 'update' ONLY for initial local schema generation,
# then switch back to 'validate' once Flyway is managing migrations.
# JPA_DDL_AUTO=validate
# JPA_SHOW_SQL=false

# ─── File Upload Limits ──────────────────────────────────────
# Optional: Override max upload sizes (default: 100MB).
# These will be removed in the P1 presigned-URL migration.
# UPLOAD_MAX_FILE_SIZE=100MB
# UPLOAD_MAX_REQUEST_SIZE=100MB

# ─── Logging ──────────────────────────────────────────────────
# Optional: Set to DEBUG for development troubleshooting.
# LOG_HIBERNATE_SQL=WARN
